---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
const tis = "Holy shit";
let myJson;

await fetch("https://dummyjson.com/products/")
  .then((res) => res.json())

  .then((json) => {
    myJson = json.products;
    // console.log("myJson", myJson);
    buildTheFucker();
  });
function buildTheFucker() {
  // console.log("build The Fucker",myJson);
  // myJson.forEach((element) => {
  //   console.log(element.title);
  // });
}
---

<Layout title="HEJ DU">
  <!-- {myJson.map((element) => <h2>{element.title}</h2>)} -->
  <main>
    <section>
      {myJson.map((element) => <Card title={element.title + " ID: " + element.id} img={element.images[0]} link={`ids/${element.id}`} />)}
    </section>
  </main>
  <!-- <h1>Index.astro</h1>
  <h2>{tis}</h2> -->
</Layout>
<style>
  main {
    display: flex;
    justify-content: center;
  }
  section {
    width: 75vw;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    column-gap: 1rem;
    row-gap: 1rem;
  }
</style>
